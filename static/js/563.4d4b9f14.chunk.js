"use strict";(self.webpackChunkstore_of_stylish_clothes=self.webpackChunkstore_of_stylish_clothes||[]).push([[563],{4160:function(e,t,r){r.r(t),r.d(t,{default:function(){return T}});var n=r(2791),a=r(7689),c=r(4116),s=(r(2296),r(9434)),i=r(456),o=r(4942),l=r(1413),u=r(3433),g=r(4165),d=r(5861),f=r(9439),p=r(1087),m=r(9230),h=r(8835),x=r(9961),v=r(5943),y=r(4434),Z=r(9816),P=r(8917),j=r(8966),w=r(2877),A=r(8352),_=r(9474),S=r(5993),k=r(1481),b=r(8081),z=r(5785),L=r(3329),C=12,E=function(){var e,t=(0,p.lr)(),r=(0,f.Z)(t,2),a=r[0],c=r[1],s=(0,n.useState)({}),i=(0,f.Z)(s,2),E=i[0],T=i[1],I=(0,n.useState)([]),R=(0,f.Z)(I,2),W=R[0],Y=R[1],N=(0,n.useState)(!1),O=(0,f.Z)(N,2),F=O[0],G=O[1],q=(0,n.useState)(null),H=(0,f.Z)(q,2),Q=H[0],X=H[1],$=(0,n.useState)(0),B=(0,f.Z)($,2),D=B[0],M=B[1],J=(0,n.useState)((0,j.L2)("page")?(0,j.L2)("page"):1),K=(0,f.Z)(J,2),U=K[0],V=K[1],ee=(0,n.useContext)(z.X),te=ee.selectedLanguage,re=ee.selectedCurrency;e=(0,j.L2)("filters")?(0,j.L2)("filters"):{man_woman:[],category:[],maxPrice:"5000",minPrice:"0",product:[],sizes:[],page:U,perPage:C,currency:re};var ne=(0,n.useState)([]),ae=(0,f.Z)(ne,2),ce=ae[0],se=ae[1],ie=(0,n.useState)(e),oe=(0,f.Z)(ie,2),le=oe[0],ue=oe[1],ge=(0,n.useState)(""),de=(0,f.Z)(ge,2),fe=de[0],pe=de[1],me=(0,n.useState)((0,j.L2)("sort")?(0,j.L2)("sort"):""),he=(0,f.Z)(me,2),xe=he[0],ve=he[1],ye=(0,m.$G)().t,Ze=function(e){a.set("page",e),(0,j.RY)("page",e),V(e)},Pe=function(e){var t=(0,j.L2)("filters")[e];t&&t.forEach((function(e){var t=document.querySelectorAll('label[data-key="'.concat(e,'"]'));null===t||void 0===t||t.forEach((function(e){return e.classList.add("active_label")}))}))};(0,n.useEffect)((function(){var e=(0,j.L2)("filters"),t={};a.getAll("man_woman")&&"null"!=a.getAll("man_woman")&&void 0!==a.getAll("man_woman")&&""!==a.getAll("man_woman")?t.man_woman=a.get("man_woman"):e.man_woman?t.man_woman=e.man_woman:t.man_woman=[],a.getAll("category")&&"null"!=a.getAll("category")&&void 0!==a.getAll("category")&&""!==a.getAll("category")?t.category=a.get("category"):null!==e&&void 0!==e&&e.category?t.category=null===e||void 0===e?void 0:e.category:t.category=[],a.getAll("product")&&"null"!=a.getAll("product")&&void 0!==a.getAll("product")&&""!==a.getAll("product")?t.product=a.get("product"):null!==e&&void 0!==e&&e.product?t.product=null===e||void 0===e?void 0:e.product:t.product=[],a.getAll("sizes")&&"null"!=a.getAll("sizes")&&void 0!==a.getAll("sizes")&&""!==a.getAll("sizes")?t.sizes=a.get("sizes"):null!==e&&void 0!==e&&e.sizes?t.sizes=null===e||void 0===e?void 0:e.sizes:t.sizes=[],a.get("minPrice")?t.minPrice=a.get("minPrice"):null!==e&&void 0!==e&&e.minPrice?t.minPrice=null===e||void 0===e?void 0:e.minPrice:t.minPrice="",a.get("maxPrice")?t.maxPrice=a.get("maxPrice"):null!==e&&void 0!==e&&e.maxPrice?t.maxPrice=null===e||void 0===e?void 0:e.maxPrice:t.maxPrice="",a.get("page")?t.page=a.get("page"):(0,j.L2)("page")?t.page=(0,j.L2)("page"):t.page=U,a.get("perPage")?t.perPage=a.get("perPage"):t.perPage=C,a.get("currency")?t.currency=a.get("currency"):t.currency=re,a.get("sort")?t.sort=a.get("sort"):t.sort="",c(t)}),[]),(0,n.useEffect)((function(){Le(),function(){var e=(0,d.Z)((0,g.Z)().mark((function e(){var t,r;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),e.prev=1,e.next=4,(0,P.rQ)("/shop/".concat(te,"/discounts?").concat(a));case 4:if(t=e.sent,r=t.data){e.next=8;break}return e.abrupt("return",(0,A.NI)(ye("Whoops, something went wrong")));case 8:Y(r.catalog),M(Math.ceil(r.total/C)),(r.total+C)/(C*U)<1&&Ze(1),ze(),Pe("man_woman"),Pe("category"),Pe("product"),Pe("sizes"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),X(e.t0);case 18:return e.prev=18,G(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,15,18,21]])})));return function(){return e.apply(this,arguments)}}()()}),[ye,U,C,a,re,te]),(0,n.useEffect)((function(){!function(){var e=(0,d.Z)((0,g.Z)().mark((function e(){var t,r;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),e.prev=1,e.next=4,(0,P.rQ)("/category/".concat(te));case 4:if(t=e.sent,r=t.data){e.next=8;break}return e.abrupt("return",(0,A.NI)(ye("Whoops, something went wrong")));case 8:T(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),X(e.t0);case 14:return e.prev=14,G(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(){return e.apply(this,arguments)}}()()}),[te]);var je=(0,n.useState)(!1),we=(0,f.Z)(je,2),Ae=we[0],_e=we[1],Se=(0,n.useState)(!1),ke=(0,f.Z)(Se,2),be=(ke[0],ke[1]),ze=function(){var e=(0,j.L2)("filters");se([].concat((0,u.Z)(e.category),(0,u.Z)(e.man_woman),(0,u.Z)(e.product),(0,u.Z)(e.sizes)))},Le=function(){var e=Object.fromEntries(a);""!==le.man_woman&&(e.man_woman=le.man_woman),""!==le.category&&(e.category=le.category),""!==le.product&&(e.product=le.product),""!==le.sizes&&(e.sizes=le.sizes),""!==le.minPrice&&(e.minPrice=le.minPrice),""!==le.maxPrice&&(e.maxPrice=le.maxPrice),""!==le.page&&(e.page=U),""!==le.perPage&&(e.perPage=C),""!==le.currency&&(e.currency=re),""!==le.sort&&(e.sort=xe),c(e)};return(0,L.jsxs)(_.uC,{children:[(0,L.jsxs)(_.Wt,{children:[(0,L.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[(0,L.jsx)(_.Cw,{$primary:!0,children:ye("Shop")}),(0,L.jsx)(_.X6,{children:(0,L.jsx)(_.Gg,{children:(0,L.jsxs)(_.A1,{children:[(0,L.jsxs)(_.fS,{onClick:function(){_e((function(e){return!e})),be(!1)},children:[(0,L.jsx)("span",{children:ye("SORT BY")}),(0,L.jsx)(_.a5,{type:"button","aria-label":"switch to open sort list","aria-expanded":"false",children:(0,L.jsx)(S.r,{})})]}),Ae&&(0,L.jsx)(h.j,{sort:xe,setSort:ve})]})})})]}),fe&&(0,L.jsxs)(_.sZ,{children:[(0,L.jsxs)("span",{children:[ye("Search results"),":"]})," ",fe,(0,L.jsx)(k.r,{"data-key":"search",onClick:function(){pe(""),a.delete("search")}})]}),(0,L.jsx)(_.tW,{children:ce&&ce.map((function(e,t){return(0,L.jsxs)("label",{"data-key":e,children:[(0,L.jsx)("span",{children:e}),(0,L.jsx)(k.r,{"data-key":e,onClick:function(e){return function(e){var t=e.currentTarget.dataset.key,r=ce.filter((function(e){return e!==t}));se(r);for(var n=(0,j.L2)("filters"),a=Object.entries(n),c=function(){var e=(0,f.Z)(i[s],2),r=[e[0],e[1]];if(0!==r[1].length){if(Array.isArray(r[1])){var a=r[1].findIndex((function(e){return e===t}));a>-1&&(r[1].splice(a,1),(0,j.RY)("filters",(0,l.Z)((0,l.Z)({},n),{},(0,o.Z)({},r[0],r[1]))),ue((function(e){return(0,l.Z)((0,l.Z)({},e),{},(0,o.Z)({},r[0],r[1]))})),Le())}Array.isArray(r[1])||("minPrice"==r[0]&&((0,j.RY)("filters",(0,l.Z)((0,l.Z)({},n),{},(0,o.Z)({},"minPrice","0"))),ue((function(e){return(0,l.Z)((0,l.Z)({},e),{},(0,o.Z)({},"minPrice","0"))})),Le()),"maxPrice"==r[0]&&((0,j.RY)("filters",(0,l.Z)((0,l.Z)({},n),{},(0,o.Z)({},"maxPrice","5000"))),ue((function(e){return(0,l.Z)((0,l.Z)({},e),{},(0,o.Z)({},"maxPrice","5000"))})),Le()))}},s=0,i=a;s<i.length;s++)c();var u=document.querySelectorAll('label[data-key="'.concat(t,'"]'));null===u||void 0===u||u.forEach((function(e){return e.classList.remove("active_label")}))}(e)}})]},t)}))}),(0,L.jsxs)(_.T5,{onClick:function(){_e(!1),be(!1)},children:[(0,L.jsx)(_.Px,{children:(0,L.jsx)(x.G,{filterState:E,setParams:Le,filters:le,setFilters:ue,setSearchParams:c})}),(0,L.jsxs)(_.zc,{children:[F?(0,w.j)():(0,w.l)(),Q&&(0,A.NI)(ye("Whoops, something went wrong")),W.length>0&&!Q&&(0,L.jsx)(y.O,{products:W}),(0,L.jsx)(Z.t,{totalPage:D,changePage:Ze,page:U}),0===W.length&&!F&&!Q&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(b.s0,{style:{textAlign:"center"},children:ye("Nothing found for these parameters...")}),(0,L.jsx)(b.s0,{style:{textAlign:"center"},children:ye("Please, try to clear filter")})]})]})]})]}),(0,L.jsx)(v.f,{})]})},T=function(){var e=(0,a.TH)(),t=(0,s.I0)();return window.scrollTo({top:0,left:0,behavior:"smooth"}),(0,n.useEffect)((function(){t((0,i.T)())}),[e]),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(c.H,{title:"Catalog",description:"Catalog of goods"}),(0,L.jsx)(E,{})]})}}}]);
//# sourceMappingURL=563.4d4b9f14.chunk.js.map