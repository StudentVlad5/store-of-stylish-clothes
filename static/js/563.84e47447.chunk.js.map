{"version":3,"file":"static/js/563.84e47447.chunk.js","mappings":"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","sources":["components/DiscountCatalog/DiscountCatalog.jsx","pages/DiscountsCatalog.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { CatalogSort } from '../Catalog/CatalogSort/CatalogSort';\nimport { CatalogFilter } from '../Catalog/CatalogFilter/CatalogFilter';\nimport { Benefits } from '../Catalog/Benefits/Benefits';\nimport { CatalogList } from '../Catalog/CatalogList/CatalogList';\nimport { Pagination } from 'utils/pagination';\nimport { fetchData } from 'services/APIservice';\nimport { saveToStorage, getFromStorage } from 'services/localStorService';\nimport { onLoading, onLoaded } from 'components/helpers/Loader/Loader';\nimport { onFetchError } from 'components/helpers/Messages/NotifyMessages';\n\nimport * as SC from '../Catalog/Catalog.styled';\nimport { ReactComponent as Open } from 'images/svg/open.svg';\nimport { ReactComponent as Close } from 'images/svg/icon_close.svg';\nimport { Headline } from 'components/baseStyles/CommonStyle.styled';\nimport { StatusContext } from 'components/ContextStatus/ContextStatus';\n\nlet perPage = 12;\n\nexport const DiscountCatalog = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [filterState, setFilterState] = useState({});\n  const [products, setProducts] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [totalPage, setTotalPage] = useState(0);\n  const [page, setPages] = useState(\n    getFromStorage('page') ? getFromStorage('page') : 1,\n  );\n  const { selectedLanguage, selectedCurrency } = useContext(StatusContext);\n\n  // const routeParams = useParams();\n  let initialState;\n  getFromStorage('filters')\n    ? (initialState = getFromStorage('filters'))\n    : (initialState = {\n        man_woman: [],\n        category: [],\n        maxPrice: '5000',\n        minPrice: '0',\n        product: [],\n        sizes: [],\n        page: page,\n        perPage: perPage,\n        currency: selectedCurrency,\n      });\n\n  const [selectedFilter, setSelectedFilter] = useState([]);\n  const [filters, setFilters] = useState(initialState);\n  const [search, setSearch] = useState('');\n  const [sort, setSort] = useState(\n    getFromStorage('sort') ? getFromStorage('sort') : '',\n  );\n  const { t } = useTranslation();\n\n  const setPage = toPage => {\n    searchParams.set('page', toPage);\n    saveToStorage('page', toPage);\n    setPages(toPage);\n    // setSearchParams(searchParams);\n  };\n\n  // get selected filter elements after refresh\n  const handleActiveLabel = key => {\n    const filtersFromLS = getFromStorage('filters');\n    const selectedFilters = filtersFromLS[key];\n    if (selectedFilters) {\n      selectedFilters.forEach(item => {\n        const checkboxes = document.querySelectorAll(\n          `label[data-key=\"${item}\"]`,\n        );\n        checkboxes?.forEach(checkbox => checkbox.classList.add('active_label'));\n      });\n    }\n  };\n\n  const getActiveLabel = () => {\n    handleActiveLabel('man_woman');\n    handleActiveLabel('category');\n    handleActiveLabel('product');\n    handleActiveLabel('sizes');\n    // handleActiveLabel('minPrice');\n    // handleActiveLabel('maxPrice');\n  };\n\n  // =================================================>\n  // useEffect(() => setParams(), []);\n\n  useEffect(() => {\n    const checkFilter = getFromStorage('filters');\n    const param = {};\n    searchParams.getAll('man_woman') &&\n    searchParams.getAll('man_woman') != 'null' &&\n    searchParams.getAll('man_woman') !== undefined &&\n    searchParams.getAll('man_woman') !== ''\n      ? (param.man_woman = searchParams.get('man_woman'))\n      : checkFilter.man_woman\n      ? (param.man_woman = checkFilter.man_woman)\n      : (param.man_woman = []);\n    searchParams.getAll('category') &&\n    searchParams.getAll('category') != 'null' &&\n    searchParams.getAll('category') !== undefined &&\n    searchParams.getAll('category') !== ''\n      ? (param.category = searchParams.get('category'))\n      : checkFilter?.category\n      ? (param.category = checkFilter?.category)\n      : (param.category = []);\n    searchParams.getAll('product') &&\n    searchParams.getAll('product') != 'null' &&\n    searchParams.getAll('product') !== undefined &&\n    searchParams.getAll('product') !== ''\n      ? (param.product = searchParams.get('product'))\n      : checkFilter?.product\n      ? (param.product = checkFilter?.product)\n      : (param.product = []);\n    searchParams.getAll('sizes') &&\n    searchParams.getAll('sizes') != 'null' &&\n    searchParams.getAll('sizes') !== undefined &&\n    searchParams.getAll('sizes') !== ''\n      ? (param.sizes = searchParams.get('sizes'))\n      : checkFilter?.sizes\n      ? (param.sizes = checkFilter?.sizes)\n      : (param.sizes = []);\n    searchParams.get('minPrice')\n      ? (param.minPrice = searchParams.get('minPrice'))\n      : checkFilter?.minPrice\n      ? (param.minPrice = checkFilter?.minPrice)\n      : (param.minPrice = '');\n    searchParams.get('maxPrice')\n      ? (param.maxPrice = searchParams.get('maxPrice'))\n      : checkFilter?.maxPrice\n      ? (param.maxPrice = checkFilter?.maxPrice)\n      : (param.maxPrice = '');\n    searchParams.get('page')\n      ? (param.page = searchParams.get('page'))\n      : getFromStorage('page')\n      ? (param.page = getFromStorage('page'))\n      : (param.page = page);\n    searchParams.get('perPage')\n      ? (param.perPage = searchParams.get('perPage'))\n      : (param.perPage = perPage);\n    searchParams.get('currency')\n      ? (param.currency = searchParams.get('currency'))\n      : (param.currency = selectedCurrency);\n    searchParams.get('sort')\n      ? (param.sort = searchParams.get('sort'))\n      : (param.sort = '');\n    setSearchParams(param);\n  }, []);\n\n  useEffect(() => {\n    setParams();\n    (async function getData() {\n      setIsLoading(true);\n      try {\n        const { data } = await fetchData(\n          `/shop/${selectedLanguage}/discounts?${searchParams}`,\n        );\n        if (!data) {\n          return onFetchError(t('Whoops, something went wrong'));\n        }\n        setProducts(data.catalog);\n        setTotalPage(Math.ceil(data.total / perPage));\n        if ((data.total + perPage) / (perPage * page) < 1) {\n          setPage(1);\n        }\n        getSelectedFilter();\n        getActiveLabel();\n      } catch (error) {\n        setError(error);\n      } finally {\n        setIsLoading(false);\n      }\n    })();\n  }, [\n    t,\n    page,\n    perPage,\n    // sort,\n    searchParams,\n    selectedCurrency,\n    selectedLanguage,\n  ]);\n\n  useEffect(() => {\n    (async function getData() {\n      setIsLoading(true);\n      try {\n        const { data } = await fetchData(`/category/${selectedLanguage}`);\n        if (!data) {\n          return onFetchError(t('Whoops, something went wrong'));\n        }\n        setFilterState(data);\n      } catch (error) {\n        setError(error);\n      } finally {\n        setIsLoading(false);\n      }\n    })();\n  }, [selectedLanguage]);\n\n  const [showSort, setShowSort] = useState(false);\n  const toggleSort = () => {\n    setShowSort(state => !state);\n    setShowFilter(false);\n  };\n\n  const [showFilter, setShowFilter] = useState(false);\n  const toggleFilter = () => {\n    setShowFilter(state => !state);\n    setShowSort(false);\n  };\n\n  const handleClick = () => {\n    setShowSort(false);\n    setShowFilter(false);\n  };\n\n  // const removeLocalStor = () => {\n  //   // removeItem('category');\n  //   removeItem('filters');\n  // };\n\n  const getSelectedFilter = () => {\n    const LS = getFromStorage('filters');\n    setSelectedFilter([\n      ...LS.category,\n      ...LS.man_woman,\n      ...LS.product,\n      ...LS.sizes,\n    ]);\n    // console.log('selectedFilter', selectedFilter);\n  };\n\n  const removeSelectedFilter = e => {\n    const deletedFilter = e.currentTarget.dataset.key;\n    const newFilters = selectedFilter.filter(item => item !== deletedFilter);\n    setSelectedFilter(newFilters);\n\n    const LS = getFromStorage('filters');\n    const LSentries = Object.entries(LS);\n\n    for (const [key, value] of LSentries) {\n      const arr = [key, value];\n\n      if (arr[1].length !== 0) {\n        if (Array.isArray(arr[1])) {\n          const index = arr[1].findIndex(item => item === deletedFilter);\n          if (index > -1) {\n            arr[1].splice(index, 1);\n            saveToStorage('filters', { ...LS, [arr[0]]: arr[1] });\n            setFilters(prevState => ({ ...prevState, [arr[0]]: arr[1] }));\n            setParams();\n          }\n        }\n        if (!Array.isArray(arr[1])) {\n          if (arr[0] == 'minPrice') {\n            saveToStorage('filters', { ...LS, ['minPrice']: '0' });\n            setFilters(prevState => ({ ...prevState, ['minPrice']: '0' }));\n            setParams();\n          }\n          if (arr[0] == 'maxPrice') {\n            saveToStorage('filters', { ...LS, ['maxPrice']: '5000' });\n            setFilters(prevState => ({ ...prevState, ['maxPrice']: '5000' }));\n            setParams();\n          }\n        }\n      }\n    }\n\n    const checkboxes = document.querySelectorAll(\n      `label[data-key=\"${deletedFilter}\"]`,\n    );\n    checkboxes?.forEach(checkbox => checkbox.classList.remove('active_label'));\n  };\n\n  const setParams = () => {\n    let params = Object.fromEntries(searchParams);\n\n    if (filters.man_woman !== '') {\n      params.man_woman = filters.man_woman;\n    }\n    if (filters.category !== '') {\n      params.category = filters.category;\n    }\n    if (filters.product !== '') {\n      params.product = filters.product;\n    }\n    if (filters.sizes !== '') {\n      params.sizes = filters.sizes;\n    }\n    if (filters.minPrice !== '') {\n      params.minPrice = filters.minPrice;\n    }\n    if (filters.maxPrice !== '') {\n      params.maxPrice = filters.maxPrice;\n    }\n    if (filters.page !== '') {\n      params.page = page;\n    }\n    if (filters.perPage !== '') {\n      params.perPage = perPage;\n    }\n    if (filters.currency !== '') {\n      params.currency = selectedCurrency;\n    }\n    if (filters.sort !== '') {\n      params.sort = sort;\n    }\n    setSearchParams(params);\n  };\n\n  return (\n    <SC.CatalogContainer>\n      <SC.CatalogSection>\n        <SC.CatalogTitleWrapper>\n          <SC.HeadlineShop $primary>{t('Shop')}</SC.HeadlineShop>\n          <SC.Heading>\n            <SC.HeadingBtnBox>\n              <SC.SortBox>\n                <SC.Accord onClick={toggleSort}>\n                  <span>{t('SORT BY')}</span>\n                  <SC.IconBtn\n                    type=\"button\"\n                    aria-label=\"switch to open sort list\"\n                    aria-expanded=\"false\"\n                  >\n                    <Open />\n                  </SC.IconBtn>\n                </SC.Accord>\n                {showSort && <CatalogSort sort={sort} setSort={setSort} />}\n              </SC.SortBox>\n            </SC.HeadingBtnBox>\n            <SC.FiltersBox>\n              <SC.Accord onClick={toggleFilter}>\n                <span>{t('FILTER BY')}</span>\n                <SC.IconBtn\n                  type=\"button\"\n                  aria-label=\"switch to open filter list\"\n                  aria-expanded=\"false\"\n                >\n                  <Open />\n                </SC.IconBtn>\n              </SC.Accord>\n              {showFilter && (\n                <SC.FiltersWrapper>\n                  <CatalogFilter\n                    filterState={filterState}\n                    setParams={setParams}\n                    filters={filters}\n                    setFilters={setFilters}\n                    setSearchParams={setSearchParams}\n                    searchParams={searchParams}\n                  />\n                </SC.FiltersWrapper>\n              )}\n            </SC.FiltersBox>\n          </SC.Heading>\n        </SC.CatalogTitleWrapper>\n        {search && (\n          <SC.SearchResults>\n            <span>{t('Search results')}:</span> {search}\n            <Close\n              data-key=\"search\"\n              onClick={() => {\n                setSearch('');\n                searchParams.delete('search');\n              }}\n            />\n          </SC.SearchResults>\n        )}\n        <SC.SelectedFilters>\n          {selectedFilter &&\n            selectedFilter.map((filter, i) => {\n              return (\n                <label key={i} data-key={filter}>\n                  <span>{filter}</span>\n                  <Close\n                    data-key={filter}\n                    onClick={e => removeSelectedFilter(e)}\n                  />\n                </label>\n              );\n            })}\n        </SC.SelectedFilters>\n        <SC.GridContainer onClick={handleClick}>\n          <SC.FiltersContainer>\n            <CatalogFilter\n              filterState={filterState}\n              setParams={setParams}\n              filters={filters}\n              setFilters={setFilters}\n              setSearchParams={setSearchParams}\n            />\n          </SC.FiltersContainer>\n          <SC.GridWrapper>\n            {isLoading ? onLoading() : onLoaded()}\n            {error && onFetchError(t('Whoops, something went wrong'))}\n            {products.length > 0 && !error && (\n              <CatalogList products={products} />\n            )}\n            <Pagination\n              totalPage={totalPage}\n              changePage={setPage}\n              page={page}\n            />\n            {products.length === 0 && !isLoading && !error && (\n              <>\n                <Headline style={{ textAlign: 'center' }}>\n                  {t('Nothing found for these parameters...')}\n                </Headline>\n                <Headline style={{ textAlign: 'center' }}>\n                  {t('Please, try to clear filter')}\n                </Headline>\n              </>\n            )}\n          </SC.GridWrapper>\n        </SC.GridContainer>\n      </SC.CatalogSection>\n      <Benefits />\n    </SC.CatalogContainer>\n  );\n};\n","import React from 'react';\nimport { useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { SEO } from 'utils/SEO';\nimport { Catalog } from '../components/Catalog/Catalog';\nimport { useDispatch } from 'react-redux';\nimport { cleanHeaderBottom } from 'redux/header_bottom/operation';\nimport { DiscountCatalog } from 'components/DiscountCatalog/DiscountCatalog';\n\nconst DiscountsShop = () => {\n  const location = useLocation();\n  const dispatch = useDispatch();\n\n  window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });\n\n  useEffect(() => {\n    dispatch(cleanHeaderBottom());\n  }, [location]);\n\n  return (\n    <>\n      <SEO title=\"Discounts\" description=\"Discounts of goods\" />\n      <DiscountCatalog />\n    </>\n  );\n};\n\nexport default DiscountsShop;\n"],"names":["perPage","DiscountCatalog","initialState","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchParams","setSearchParams","_useState","useState","_useState2","filterState","setFilterState","_useState3","_useState4","products","setProducts","_useState5","_useState6","isLoading","setIsLoading","_useState7","_useState8","error","setError","_useState9","_useState10","totalPage","setTotalPage","_useState11","getFromStorage","_useState12","page","setPages","_useContext","useContext","StatusContext","selectedLanguage","selectedCurrency","man_woman","category","maxPrice","minPrice","product","sizes","currency","_useState13","_useState14","selectedFilter","setSelectedFilter","_useState15","_useState16","filters","setFilters","_useState17","_useState18","search","setSearch","_useState19","_useState20","sort","setSort","t","useTranslation","setPage","toPage","set","saveToStorage","handleActiveLabel","key","selectedFilters","forEach","item","checkboxes","document","querySelectorAll","concat","checkbox","classList","add","useEffect","checkFilter","param","getAll","undefined","get","setParams","_getData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$fetchData","data","wrap","_context","prev","next","fetchData","sent","abrupt","onFetchError","catalog","Math","ceil","total","getSelectedFilter","t0","finish","stop","apply","arguments","_getData2","_callee2","_yield$fetchData2","_context2","_useState21","_useState22","showSort","setShowSort","_useState23","_useState24","showFilter","setShowFilter","LS","_toConsumableArray","params","Object","fromEntries","_jsxs","SC","children","_jsx","$primary","onClick","state","type","Open","CatalogSort","CatalogFilter","Close","delete","map","filter","i","e","deletedFilter","currentTarget","dataset","newFilters","LSentries","entries","_loop","_LSentries$_i","_LSentries","_i","arr","length","Array","isArray","index","findIndex","splice","_objectSpread","_defineProperty","prevState","remove","removeSelectedFilter","onLoading","onLoaded","CatalogList","Pagination","changePage","_Fragment","Headline","style","textAlign","Benefits","location","useLocation","dispatch","useDispatch","window","scrollTo","top","left","behavior","cleanHeaderBottom","SEO","title","description"],"sourceRoot":""}